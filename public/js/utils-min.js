var Doc=document,Win=window;function disableButton(e){document.getElementById(e.id).disabled=!0}var Modal={html:'<div class="modal fade" tabindex="-1" role="dialog">  <div class="modal-dialog" role="document">    <div class="modal-content">      <div class="modal-header">        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>        <h4 class="modal-title"></h4>      </div>      <div class="modal-body">      </div>      <div class="modal-footer">        <button type="button" class="btn" id="btn-cancel" data-dismiss="modal"></button>        <button type="button" class="btn" id="btn-confirm"></button>      </div>    </div>  </div></div>',alert:function(e){var t=this.getModalObject(),a=this.loadOptions({title:"Ops!",content:"Não foi possível processar as informações",btCancelText:"Fechar",type:"default"},e),n=t.find("#btn-cancel");t.find(".modal-title").html(a.title),t.find(".modal-body").html(a.content),t.find("#btn-confirm").addClass("hidden"),n.html(a.btCancelText),n.addClass("btn-"+a.type),t.modal("show")},confirmation:function(e){var t=this.getModalObject(),a=this.loadOptions({title:"Confirmação",content:"Deseja realmente executar esta ação?",btConfirm:"Confirmar",btConfirmType:"primary",btCancel:"Cancelar",btCancelType:"default",callbackConfirm:null,callbackCancel:null},e);t.find(".modal-header button").addClass("hidden"),t.find(".modal-title").html(a.title),t.find(".modal-body").html(a.content);var n=t.find("#btn-confirm");n.html(a.btConfirm),n.addClass("btn-"+a.btConfirmType);var r=t.find("#btn-cancel");r.html(a.btCancel),r.addClass("btn-"+a.btCancelType),n.click((function(e){e.preventDefault(),"function"==typeof a.callbackConfirm?a.callbackConfirm(t):t.modal("hide")})),"function"==typeof a.callbackCancel&&(r.removeAttr("data-dismiss"),r.click((function(e){e.preventDefault(),a.callbackCancel(t)}))),t.modal("show")},progress:function(e){var t=this.loadOptions({title:"Ops!",content:"",type:"stripes-animated",style:"success"},e),a=Doc.createElement("div");a.className="progress",a.innerHTML='<div class="progress-bar progress-bar-{style} progress-bar-{type}" role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100"></div>';var n=a.firstChild,r=this.getModalObject(),i=r.find(".modal-body"),o="<p>"+t.content+"</p>";r.find(".modal-header button").addClass("hidden"),r.find(".modal-footer").addClass("hidden"),r.find(".modal-title").html(t.title),"stripes-animated"===t.type?(n.className=n.className.replace("{style}",t.style),n.className=n.className.replace("{type}","striped active"),n.setAttribute("aria-valuenow",100),n.style.width="100%"):"stripes"===t.type&&(n.className=n.className.replace("{style}",t.style),n.className=n.className.replace("{type}","striped")),i.append(o),i.append(a);var s=i.find(".progress-bar");r.modal("show");return{setProgress:function(e){s.attr("aria-valuenow",e),s.css("width",e+"%"),s.html(e+"%")},hide:function(){r.modal("hide")}}},loadOptions:function(e,t){for(var a in e)t.hasOwnProperty(a)&&(e[a]=t[a]);return e},getModalObject:function(){return $(this.html)}},CommandCopy=function(){Doc.execCommand("copy")},CreateTextClipboard=function(e){var t="string"==typeof e?document.querySelectorAll(e):e;if(null!==t&&"object"==typeof t){var a=[],n=[];void 0===t.length?a.push(t):a=t;var r,i,o=function(e){var t=document.createElement("div");return t.setAttribute("style","background-color:#DCDCDC;padding:2px 8px;border-radius:5px;position:absolute;top:-15px;right:0px;visibility: hidden;transition: visibility 1s"),t.innerHTML="Copiado",t.id="copyclipboard-tooltip-"+e,n[e]=t,t},s=function(){var e=this.position,t=a[e].firstChild;t.select(),document.execCommand("copy"),t.blur(),function(e){n[e].style.visibility="visible",setTimeout((function(){n[e].style.visibility="hidden"}),1e3)}(e)},l=function(e){var t=document.createElement("input");return t.type="text",t.className="form-control",t.readOnly=!0,t.setAttribute("value",e),t};for(var c in a)if(a.hasOwnProperty(c)){var d=l(a[c].innerHTML);a[c].setAttribute("style","position: relative"),a[c].innerHTML="",a[c].appendChild(d),a[c].appendChild((r=c,i=void 0,(i=document.createElement("span")).className="glyphicon glyphicon-copy",i.setAttribute("data-position",r),i.setAttribute("style","cursor:pointer;font-size:20px;position:absolute;right:10px;top:5px"),i.addEventListener("click",s.bind({position:r})),i)),a[c].appendChild(o(c))}}},Profile={check:function(e){return""!=$.trim($("#"+e).value)||($("#"+e).focus(),$("#"+e+"_alert").show(),!1)},validate:function(e){return 0!=SignUp.check("name")&&(0!=SignUp.check("email")&&void $("#profileForm").submit())}},SignUp={check:function(e){return""!=$.trim($("#"+e).value)||($("#"+e).focus(),$("#"+e+"_alert").show(),!1)},validate:function(e){var t=!1;if(e.disabled=!0,""==$("#name").val()&&($("#name_alert").show(),t=!0),(""==$("#password").val()||$("#password").val().length<8)&&($("#password_alert").show(),t=!0),$("#password").val()!=$("#repeatPassword").val()&&($("#repeatPassword_alert").show(),t=!0),t)return!1;e.enabled=!0,$("#registerForm").submit()}},SignIn={retrieve:function(e){var t=!1;if(e.disabled=!0,""==$("#code").val()&&($("#code_alert").show(),t=!0),(""==$("#password").val()||$("#password").val().length<8)&&($("#password_alert").show(),t=!0),$("#password").val()!=$("#repeatPassword").val()&&($("#repeatPassword_alert").show(),t=!0),t)return!1;e.enabled=!0,$("#retrieveForm").submit()}},Form={reset:function(){$("#mySubmit").attr("disabled",!1),$("#registerForm .alert").hide(),$("div.profile .alert").hide()}},User={changeUserType:function(){var e=$("select#usuario_tipo").val();1==e||2==e?$("#vendedor").parent().hide():$("#vendedor").parent().show()},changeStatus:function(e,t){var a="",n="";"ativar"==$(t).val()?(a="active",n="inativar"):"inativar"==$(t).val()&&(a="inactive",n="ativar");var r=window.location.protocol+"//"+window.location.host+"/usuario/changeStatus";$.ajax({type:"POST",data:jQuery.param({id:e,state:a}),customResponse:a,label:n,url:r,success:function(a){"ok"==a?($("#user_status_"+e).html('<span class="label label-primary">'+this.customResponse+"</span>"),$(t).val(this.label),Header.update()):$(".container").prepend('<div class="alert alert-danger in-tpl-message">ocorreu um erro!</div>')}})},toggleStatus:function(e,t,a){var n=window.location.protocol+"//"+window.location.host+"/usuario/changeStatus";$(a).button("loading"),$.ajax({type:"POST",data:jQuery.param({id:e,state:t}),url:n,success:function(n){"ok"==n?($("#user-status-alert").hide(),$("#row-user-"+e).attr("data-row-status",t),$("#user_status_"+e).html('<span class="label label-primary">'+t+"</span>"),$(a).button("reset"),Header.update()):($("#user-status-alert").show(),$("#user-status-alert").show(),$(a).button("reset"))}})},changeCompany:{toggle:function(e){"alterar"==$(e).html()?($(e).html("cancelar"),$("#step-wrapper").show()):($(e).html("alterar"),$("#step-wrapper").hide())}}},Client={edit:{selectClientType:function(e){$("select#cliente_tipo").val(e)},initialize:function(){$("#cliente_tipo").val();$("#id").val($("#id").val()),$("#cliente_tipo").on("change",(function(){$("#tipo").val(this.value)}))}},update:function(){$("#usuario_atualizou").val(1)}},Cart={Product:{add:function(e,t){$("#bttAdd").button("loading"),Cart.Core.add(e,t,(function(e){resultObj=JSON.parse(e),resultObj.ok&&(Cart.Product.update(),$("#bttAdd").button("reset"))}))},remove:function(e,t){Cart.Core.remove(e,t,(function(e){resultObj=JSON.parse(e),resultObj.ok&&Cart.Product.update()}))},update:function(){Cart.Core.update((function(e){resultObj=JSON.parse(e),resultObj.ok}))}},CartPage:{removeItem:function(e){var t=$("#product-"+e+"-qtt").val();try{t=isNaN(t)?0:parseFloat(t)}catch(e){t=0}var a=0==t?1:t;Cart.Core.remove(e,a,(function(t){var a=e;Cart.CartPage.fnUpdateItem(t,a)}))},minusItem:function(e){var t=$("#product-"+e+"-qtt").val();try{t=isNaN(t)?0:parseFloat(t)}catch(e){t=0}Cart.Core.remove(e,1,(function(t){var a=e;Cart.CartPage.fnUpdateItem(t,a)}))},plusItem:function(e){var t=$("#product-"+e+"-qtt").val();try{t=isNaN(t)?0:parseFloat(t)}catch(e){t=0}Cart.Core.add(e,1,(function(t){var a=e;Cart.CartPage.fnUpdateItem(t,a)}))},changeQtt:function(e){var t=$("#product-"+e+"-qtt").attr("data-orig-value");try{t=isNaN(t)?0:parseFloat(t)}catch(e){t=0}var a=$("#product-"+e+"-qtt").val();try{a=isNaN(a)?0:parseFloat(a)}catch(e){a=0}var n=t;Cart.Core.remove(e,n,(function(t){var n=e,r=a;Cart.Core.add(e,r,(function(e){Cart.CartPage.fnUpdateItem(e,n)}))}))},fnUpdateItem:function(e,t){if(resultObj=JSON.parse(e),resultObj.ok){var a=resultObj.ok[t],n=0;if(a&&null!=a.quantity&&!isNaN(a.quantity)){try{n=isNaN(a.quantity)?0:parseInt(resultObj.ok[t].quantity)}catch(e){n=0}$("#product-"+t+"-qtt").val(n),$("#product-"+t+"-qtt").attr("data-orig-value",n),0==n?($("#product-"+t+"-row").addClass("alert-danger"),$("#product-"+t+"-qtt").addClass("alert-danger")):n<0?$("#product-"+t+"-row").fadeOut():($("#product-"+t+"-row").removeClass("alert-danger"),$("#product-"+t+"-qtt").removeClass("alert-danger"))}else $("#product-"+t+"-row").fadeOut();var r=0;if(a&&null!=a.value&&!isNaN(a.value)){try{r=isNaN(a.value)?0:parseFloat(resultObj.ok[t].value)}catch(e){r=0}var i=n*r;$("#subtotal_"+t+" .--amount").html(formatBRL(i)),$("#subtotal_"+t+" .--amount").attr("data-float",i)}var o=0,s=!0;$('[data-role="price-sub-total"]').each((function(e,t){var a=$(t).find("[data-float]").attr("data-float");if(a&&!isNaN(a))try{o+=isNaN(a)?0:parseFloat(a),s=!1}catch(e){o+=0}else o+=0})),s?$("#totalprice").html("&mdash;"):$("#totalprice").html(formatBRL(o)),Cart.Core.refreshCartButton(e)}}},Core:{add:function(e,t,a){$.ajax({type:"POST",data:jQuery.param({id:e,quantity:t}),url:"/cart/add",success:a})},remove:function(e,t,a){$.ajax({type:"POST",data:jQuery.param({id:e,quantity:t}),url:"/cart/remove",success:a})},update:function(e){$.ajax({url:"/cart/info",success:function(e){if(resultObj=JSON.parse(e),resultObj.ok&&(Cart.Core.refreshCartButton(e),$("#canvasHasProducts").attr("data-product-id")&&$("#canvasHasProducts").length>0)){var t=0;for(key in resultObj.ok)$("#canvasHasProducts").attr("data-product-id")==resultObj.ok[key].id&&(t+=parseInt(resultObj.ok[key].quantity));t>0?($("#canvasHasProducts").show(),$("#labelHasProductsNumber").html(t),$("#labelHasProductsSuffix").html(1==t?"item":"itens")):($("#canvasHasProducts").hide(),$("#labelHasProductsNumber").html("&hellip; &hellip; &hellip;"),$("#labelHasProductsSuffix").html("&hellip; &hellip; &hellip;"))}this.fnCallback&&this.fnCallback.apply(this,arguments)}.bind({fnCallback:e})})},refreshCartButton:function(e){if($("#cartButton").length>0){var t=0;for(key in resultObj.ok){var a=parseInt(resultObj.ok[key].quantity);a>0&&(t+=a)}0==t?$("#cartButton").hide():($("#cartButton .badge").html(t),$("#cartButton").show())}}}},Menu={initialize:function(){var e=window.location.pathname.split("/");e[1]&&e[2]&&e[3]&&"produto"==e[1]&&("category"==e[2]&&($("#category-00-"+e[3]).addClass("active").find("span").removeClass("glyphicon-triangle-right").addClass("glyphicon-triangle-bottom"),$(".parent-00-"+e[3]).removeClass("menu-collapsed")),"subcategory1"==e[2]&&(Menu.toggleParent(1,e[3]),$("#category-01-"+e[3]).addClass("active").removeClass("menu-collapsed").find("span").removeClass("glyphicon-triangle-right").addClass("glyphicon-triangle-bottom"),$(".parent-01-"+e[3]).removeClass("menu-collapsed")),"subcategory2"==e[2]&&(Menu.toggleParent(2,e[3]),$("#category-02-"+e[3]).addClass("active").removeClass("menu-collapsed").find("span").removeClass("glyphicon-triangle-right").addClass("glyphicon-triangle-bottom")),"subcategory3"==e[2]&&(Menu.toggleParent(3,e[3]),$("#category-03-"+e[3]).addClass("active").removeClass("menu-collapsed")))},toggleParent:function(e,t){for(var a="#"+$("#category-0"+e+"-"+t).attr("data-parent"),n=e-1;n>=0;n--){$(a).find("span").removeClass("glyphicon-triangle-right").addClass("glyphicon-triangle-bottom");var r=$(a).attr("data-toggle-target");$(r).removeClass("menu-collapsed"),a="#"+$(a).attr("data-parent")}},hide:function(){$("#contentContainer").removeClass("col-sm-8").addClass("col-sm-12"),$("#menu").hide()},show:function(){$("#contentContainer").removeClass("col-sm-12").addClass("col-sm-8"),$("#menu").show()}},Register={previousSearchTerm:"",minCharsLookup:7,searchOnKey:function(){var e=$("#search-cnpj").val();""!=e&&e!=Register.previousSearchTerm&&e.length>=Register.minCharsLookup?($("#page").val("1"),Register.performSearch()):""==e&&($("#searchResults .resultItems").empty(),$("#searchResults").hide())},searchBtt:function(){var e=$("#search-cnpj").val();""!=e&&e.length>=Register.minCharsLookup?($("#page").val("1"),Register.performSearch()):""==e&&($("#searchResults .resultItems").empty(),$("#searchResults").hide())},performSearch:function(){var e=$("#search-cnpj").val(),t=$("#page").val();$("#searchResults .resultItems").empty(),$("#searchResults").hide(),Register.previousSearchTerm=e,null!=Register.globalTimeout&&clearTimeout(Register.globalTimeout),Register.globalTimeout=setTimeout((function(){Register.globalTimeout=null,$.ajax({type:"GET",data:jQuery.param({responseType:"JSON",query:e,page:t}),url:"/cliente/search",beforeSend:function(e,t){$("#search-cnpj--loading--hide-addon").removeClass("input-group--hide-addon")},complete:function(e,t){$("#search-cnpj--loading--hide-addon").addClass("input-group--hide-addon")},success:function(e){var t=JSON.parse(e);if(t.ok){var a=$(".resultModel");if(0==t.ok.total_items)$("#noresults").show(),$("#searchResults").hide();else{for(var n=0;n<t.ok.total_items;n++)t.ok.items[n]&&t.ok.items[n].id&&a.clone().attr("id","resultItem-"+t.ok.items[n].id).appendTo("#searchResults .resultItems").show().find("button").confirmation({rootSelector:"[data-toggle=confirmation]",onConfirm:function(){Register.associate(this)}}).attr("data-id",t.ok.items[n].id).find(".clientName").html('<span style="font-weight:500">'+t.ok.items[n].nome+'</span><br><span style="font-weight:300">CNPJ - '+t.ok.items[n].cnpj_cpf+'</span><br><span style="font-weight:300">Código Policom - '+t.ok.items[n].clienteUcode+"</span>");Paginator.init($('#searchResults [data-role-pagination="wrapper"]'),{first:t.ok.first,last:t.ok.last,current:t.ok.current,before:t.ok.before,next:t.ok.next,total_pages:t.ok.total_pages,total_items:t.ok.total_items,limit:t.ok.limit,link:["javascript:(function(){ Register.goToPage(","); })()"]}),$("#noresults").hide(),$("#searchResults").show()}}}})}),300)},goToPage:function(e){$("#page").val(e),Register.performSearch()},associate:function(e){var t=$(e).attr("data-id");$("#hiddenClientId").val(t),$("#associateForm").submit()},globalTimeout:null},Paginator={init:function(e,t){var a={wrapper:e,template:e.find(' [data-role-pagination="template"]'),current:e.find(' [data-role-pagination="template"] [data-role-pagination="current"]'),regular:e.find(' [data-role-pagination="template"] [data-role-pagination="regular"]'),between:e.find(' [data-role-pagination="template"] [data-role-pagination="between"]'),container:e.find(' [data-role-pagination="container"]')};for(el in a);a.container.html("");for(var n=!1,r=t.first;r<=t.last;r++){r>t.current-3-1&&r<t.current+3+1||r==t.first||r==t.last?t.current==r?a.current.clone().appendTo(a.container).find("a").html(r).attr("href",t.link.join(r.toString())):(a.regular.clone().appendTo(a.container).find("a").html(r).attr("href",t.link.join(r.toString())),n=!1):0==n&&(a.between.clone().appendTo(a.container),n=!0)}}},Header={update:function(){var e=0,t=0;e=$.ajax({type:"GET",url:"/session/getPendingTasks",success:function(a){var n=JSON.parse(a);n.ok&&((e=parseInt(n.ok.usuarios))&&($("#userstasks").text(e),Header.accountWarn()),cliente=parseInt(n.ok.clientes),cliente&&($("#clientstasks").text(cliente),Header.accountWarn()),(t=parseInt(n.ok.mensagens))&&($("#msgtasks").text(t),Header.accountWarn()),invoices=parseInt(n.ok.orcamentos),invoices&&($("#invoicestasks").text(invoices),Header.accountWarn()))}})},accountWarn:function(){var e=parseInt($("#msgtasks").text()),t=parseInt($("#clientstasks").text()),a=parseInt($("#userstasks").text()),n=parseInt($("#invoicestasks").text()),r=0;isNaN(e)||(r+=e),isNaN(t)||(r+=t),isNaN(a)||(r+=a),isNaN(n)||(r+=n),$("#accountTasks").text(r)}},Invoice={search:function(){var e=$("#selectMonth").val(),t=$("#selectStatus").val(),a=$("#clientHidden").val(),n="?";if("false"!=e&&null!=e){var r=e.split("-"),i=r[0],o=r[1];n+="period="+e+"&initdate="+new Date(parseInt(o),parseInt(i)-1,1,0,0,1).toISOString().slice(0,19).replace("T"," ")+"&enddate="+new Date(parseInt(o),parseInt(i),0,23,59,59).toISOString().slice(0,19).replace("T"," ")}null!=t&&"total"!=t&&("?"!=n&&(n+="&"),n+="status="+t),null!=a&&""!=a&&("?"!=n&&(n+="&"),n+="client="+a),window.location.href="/orcamento/index"+n},removeClient:function(){$("#clientHidden").attr("value",null),Invoice.search()},addClient:function(e){$("#clientHidden").attr("value",e),Invoice.search()},initialize:function(){$("#selectMonth").val(getUrlParameter("period")),$("#selectStatus").val(getUrlParameter("status")),getUrlParameter("client")||getUrlParameter("period")||getUrlParameter("status")?($("#bttClearFilter").show(),$("#panel-orcamentos").addClass("panel-info").removeClass("panel-default")):$("#panel-orcamentos").addClass("panel-default").removeClass("panel-info")}},Acl={save:function(e,t,a){var n=window.location.protocol+"//"+window.location.host+"/acl/save",r=0;$checked=$(e).attr("checked"),"checked"==$checked?(r=0,$(e).attr("checked",null)):(r=1,$(e).attr("checked","checked")),$.ajax({type:"POST",data:jQuery.param({role:t,action:a,value:r}),url:n,success:function(e){"ok"==e?$("#user-status-alert").hide():$("#user-status-alert").show()}})}},formatBRL=function(e){var t=/^(\d+)(\.)(\d{2})$/,a=e.toFixed(2).replace(t,"$1"),n=e.toFixed(2).replace(t,"$3");return a.split("").reverse().join("").replace(/(\d{3})/g,"$1.").split("").reverse().join("").replace(/^\./,"")+","+n},getUrlParameter=function(e){var t,a,n=decodeURIComponent(window.location.search.substring(1)).split("&");for(a=0;a<n.length;a++)if((t=n[a].split("="))[0]===e)return void 0===t[1]||t[1]},Product={filter:function(){var e=$("input[type=checkbox].category-filter"),t=$("#selectmanufacturer"),a=function(t){e.each((function(){!0===this.hasAttribute("data-parent")&&!0===this.checked&&(this.getAttribute("data-parent")===t&&(this.checked=!1,a(this.getAttribute("data-id"))))})),n()},n=function(){var e="",a=function(){var e=[];return $("input[type=checkbox].category-filter:checked").each((function(){e.push($(this).attr("data-id"))})),e.length<1?0:e}();t.val()&&(e=t.val());var n=window.location.pathname.split("/");if(n.length>3&&"produto"==n[1]&&"category"==n[2]&&Number.isInteger(parseInt(n[3]))){var r="/"+n[1]+"/"+n[2]+"/"+n[3]+"/"+a+"/"+e;location.href=r}};return e.click((function(e){this.checked||a(this.getAttribute("data-id")),n()})),t.change((function(){n()})),{execute:n}},limbo:function(){var e=Doc.getElementById("form-produto-limbo"),t=$(e);if(!(t.length<1)){var a=function(t){var a=!1,n=e.elements.namedItem(t);if(void 0!==n.length){for(var r in n)if(!0===n.hasOwnProperty(r)&&n[r].checked){a=!0;break}}else n.checked&&(a=!0);return a};return t.submit((function(){if(!0!==a("products[]"))Modal.alert({content:"Selecione pelo menos 1 produto"});else{if(!0===a("categories[]"))return Modal.progress({title:"Aguarde, estamos processando.",type:"stripes-animated"}),!0;Modal.alert({content:"Selecione pelo menos 1 categoria"})}return!1})),InputSearchInHtml("search_category"),{}}},categoria:function(){var e=Doc.getElementById("form-admin-produto-categoria"),t=$(e);if(!(t.length<1)){$(".bt-remove-categoria").click((function(e){var t;e.preventDefault(),t=this.getAttribute("data-id"),Modal.confirmation({title:"Excluir Categoria",content:"Deseja realmente excluir está categoria?",btConfirm:"Remover",btConfirmType:"danger",btCancel:"Cancelar",btCancelType:"default",callbackConfirm:function(e){e.modal("hide"),Modal.progress({title:"Removendo categoria..."}),top.location.href="/produto/categoriaExcluir/"+t}})})),t.submit((function(){return!!function(){if(null===e.elements.nome||e.elements.nome.value.length<1)return Modal.alert({title:"Erro",content:"Preencha o nome da Categoria",type:"danger"}),!1;var t=!1,a=e.elements.namedItem("categories[]");for(var n in a)if(!0!==a.hasOwnProperty(n));else if(a[n].checked){t=!0;break}return!0!==t&&Modal.alert({title:"Erro",content:"Selecione a categoria base",type:"danger"}),t}()&&(Modal.progress({title:"Adicionando categoria..."}),!0)})),InputSearchInHtml("search_category")}},edit:function(){var e=Doc.getElementById("form-produto-categories-edit");$(e).length<1||InputSearchInHtml("search_category")}},EmailAutomatico={save:function(){var e=Doc.getElementById("form-email-automatico-save");if(!($(e).length<1)){Tinymce.simple(".tinymce-minimal");var t=e.elements.namedItem("gatilho"),a=$(t),n=$(".bt-add-input"),r=function(e){$(".gatilho-variables").each((function(){$(this).addClass("hidden")})),$("#variables-"+e).removeClass("hidden")},i=function(e){var t=Doc.getElementById(e);if(!(null==t||t.value.length<1)){var a=JSON.parse(t.value);if(!("object"!=typeof a||void 0===a.length||null===a.length||a.length<1))for(var n in a)if(a.hasOwnProperty(n)){var r=a[n],i=s(e);r.hasOwnProperty("name")&&(i.name.value=r.name),r.hasOwnProperty("email")&&(i.email.value=r.email),r.hasOwnProperty("estado")&&r.estado.length>0&&(i.estado.value=r.estado)}}},o=function(t){var a=e.elements.namedItem("cc_estado[]"),n=e.elements.namedItem("cco_estado[]"),r=function(e){if(null==e);else if("HTMLSelectElement"===e.constructor.name)!0===t?$(e).removeClass("hidden"):$(e).addClass("hidden");else if("RadioNodeList"===e.constructor.name)for(var a in e)e.hasOwnProperty(a)&&(!0===t?$(e[a]).removeClass("hidden"):$(e[a]).addClass("hidden"))};r(a),r(n)},s=function(e){var t=e.replace("#",""),n=Doc.getElementById("block-inputs-"+t);if(null!==n&&!1!==n){var r=function(e){var t=Doc.createElement("input");if(t.type="text","object"!=typeof e)return t;for(var a in e)e.hasOwnProperty(a)&&t.setAttribute(a,e[a]);return t},i=function(e){e.preventDefault();var t="#block-input-"+this.getAttribute("data-target");$(t).remove()},o=n.childNodes.length.toString(),s=Doc.createElement("div");s.className="form-group clearfix pt-10px",s.id="block-input-"+t+"-"+o;var l=function(e){var a=Doc.createElement("button");return a.innerHTML='<pan class="glyphicon glyphicon-remove"></pan>',a.type="button",a.className="btn bt-input-remove pull-right",a.setAttribute("data-target",t+"-"+e),a.addEventListener("click",i,!1),a}(o),c=r({class:"form-control pull-left mr-10px",name:t+"_email[]",style:"width:35%",placeholder:"Email"}),d=r({class:"form-control pull-left mr-10px",name:t+"_name[]",style:"width:35%",placeholder:"Nome do destinatário"});s.appendChild(c),s.appendChild(d);var u,p=((u=Doc.createElement("select")).name=t+"_estado[]",u.className="form-control pull-left",u.setAttribute("style","width: 15%"),u.add(new Option("Todos","*")),u.add(new Option("PO","PO")),u.add(new Option("PA","PA")),u.add(new Option("PR","PR")),u.add(new Option("PC","PC")),u);return"orcamento_criacao"!==a.val()&&$(p).addClass("hidden"),s.appendChild(p),s.appendChild(l),n.appendChild(s),{email:c,name:d,estado:p}}};a.change((function(){r(this.value),o("orcamento_criacao"===this.value)})),n.click((function(e){(e.preventDefault(),this.hasAttribute("data-target"))&&(this.getAttribute("data-target").indexOf("#"),s(this.getAttribute("data-target")))})),r(a.val()),i("cc"),i("cco"),o("orcamento_criacao"===a.val())}}},Tinymce={simple:function(e){tinyMCE.init({selector:e,theme:"simple"})},advanced:function(e){tinyMCE.init({selector:e,mode:"#TypeHere",theme:"advanced",plugins:"paste,autolink,lists,pagebreak,style,layer,table,save,advhr,advimage,advlink,emotions,iespell,inlinepopups,insertdatetime,preview,media,searchreplace,print,contextmenu,directionality,fullscreen,noneditable,visualchars,nonbreaking,xhtmlxtras,template,wordcount,advlist,visualblocks",theme_advanced_buttons1:"save,newdocument,|,bold,italic,underline,strikethrough,|,justifyleft,justifycenter,justifyright,justifyfull,styleselect,formatselect,fontselect,fontsizeselect",theme_advanced_buttons2:"cut,copy,paste,pastetext,pasteword,|,search,replace,|,bullist,numlist,|,outdent,indent,blockquote,|,undo,redo,|,link,unlink,anchor,image,cleanup,help,code,|,insertdate,inserttime,preview,|,forecolor,backcolor",theme_advanced_buttons3:"tablecontrols,|,hr,removeformat,visualaid,|,sub,sup,|,charmap,emotions,iespell,media,advhr,|,print,|,ltr,rtl,|,fullscreen",theme_advanced_buttons4:"insertlayer,moveforward,movebackward,absolute,|,styleprops,|,cite,abbr,acronym,del,ins,attribs,|,visualchars,nonbreaking,template,pagebreak,restoredraft,visualblocks",theme_advanced_toolbar_location:"top",theme_advanced_toolbar_align:"left",theme_advanced_statusbar_location:"bottom",theme_advanced_resizing:!0,add_unload_trigger:!1,theme_advanced_default_font_size:"10pt",theme_advanced_default_font_family:"Verdana",theme_advanced_fonts:"Andale Mono=andale mono,monospace;Arial=arial,helvetica,sans-serif;Arial Black=arial black,sans-serif;Book Antiqua=book antiqua,palatino,serif;Comic Sans MS=comic sans ms,sans-serif;Courier New=courier new,courier,monospace;Georgia=georgia,palatino,serif;Helvetica=helvetica,arial,sans-serif;Impact=impact,sans-serif;Symbol=symbol;Tahoma=tahoma,arial,helvetica,sans-serif;Terminal=terminal,monaco,monospace;Times New Roman=times new roman,times,serif;Trebuchet MS=trebuchet ms,geneva,sans-serif;Verdana=verdana,geneva,sans-serif;Webdings=webdings;Wingdings=wingdings,zapf dingbats",theme_advanced_font_sizes:"8pt,9pt,10pt,11pt,12pt,14pt,16pt,18pt,20pt,22pt,24pt,28pt,36pt",paste_retain_style_properties:"font-size,font-family,color",paste_remove_styles_if_webkit:!1,powerpaste_word_import:"merge",powerpaste_html_import:"clean",powerpaste_allow_local_images:!1,template_external_list_url:"lists/template_list.js",external_link_list_url:"lists/link_list.js",external_image_list_url:"lists/image_list.js",media_external_list_url:"lists/media_list.js",style_formats:[{title:"Bold text",inline:"b"},{title:"Red text",inline:"span",styles:{color:"#ff0000"}},{title:"Red header",block:"h1",styles:{color:"#ff0000"}},{title:"Example 1",inline:"span",classes:"example1"},{title:"Example 2",inline:"span",classes:"example2"},{title:"Table styles"},{title:"Table row 1",selector:"tr",classes:"tablerow1"}],template_replace_values:{username:"Some User",staffid:"991234"}})}},checkAll=function(e,t){var a=$(t).find("input[type=checkbox][data-may-check-all=true]"),n=!1!==e&&(!0===e||$(e).prop("checked"));a.prop("checked",n)},InputSearchInHtml=function(e){var t=e+"_list",a=t+"_item",n=e+"_input_clear",r=e+"_selected",i=$("#"+e),o=$("#"+n),s=$("#"+r),l=($("#"+t),$("."+a)),c=[],d=[];if(1===i.length){o.attr("style","cursor: pointer;pointer-events: auto");var u=function(e){e?o.removeClass("hidden"):o.addClass("hidden")},p=function(){c.length>0?s.html("<strong>Selecionados</strong>: "+c.join(", ")):s.html("")},m=function(e){var t,a=this.data;a.$inputCheckbox.prop("checked")?(t=a.textSearchOriginal,c.push(t),p()):function(e){var t=-1;for(var a in c)if(c[a]===e){t=a;break}-1!==t&&c.splice(t,1),p()}(a.textSearchOriginal)},h=function(){var e=i.val().toLowerCase();if(e.length<1)return u(!1),void l.removeClass("hidden");for(var t in d)-1===d[t].textSearch.indexOf(e)?d[t].$element.addClass("hidden"):d[t].$element.removeClass("hidden");u(!0)};i.keyup((function(e){e.preventDefault(),h()})),o.click((function(e){i.val(""),h()})),u(!1),i.val(""),s.html(""),l.each((function(){var e=this.getAttribute("data-search");if(null!==e){var t={};t.element=this,t.$element=$(this),t.textSearchOriginal=e,t.textSearch=function(e){var t,a,n=(e=e.split("")).length;for(t=0;t<n;t++)-1!==(a="ÀÁÂÃÄÅàáâãäåÒÓÔÕÕÖØòóôõöøÈÉÊËèéêëðÇçÐÌÍÎÏìíîïÙÚÛÜùúûüÑñŠšŸÿýŽž".indexOf(e[t]))&&(e[t]="AAAAAAaaaaaaOOOOOOOooooooEEEEeeeeeCcDIIIIiiiiUUUUuuuuNnSsYyyZz"[a]);return e.join("")}(e.toLowerCase()),t.$inputCheckbox=$(this.getElementsByTagName("input")[0]),t.checked=t.$inputCheckbox[0].checked,t.$inputCheckbox.click(m.bind({data:t})),d.push(t)}})),function(){for(var e in d)d.hasOwnProperty(e)&&d[e].checked&&c.push(d[e].textSearchOriginal);p()}()}},Captcha={registerSubmitListener:function(){grecaptcha.ready((function(){$("[data-recaptcha-action]").submit((function(e){e.preventDefault();var t=e.currentTarget,a=$(t).data("recaptcha-action");grecaptcha.execute("6LecfrEZAAAAAOUgMvabvSolNPNytS3-34r9IuID",{action:a}).then((function(e){$(t).append(`<input type="hidden" name="grecaptcha_token" value="${e}">`),$(t).append(`<input type="hidden" name="grecaptcha_action" value="${a}">`),$(t).unbind("submit").submit()})).catch((function(e){}))}))}))}};$(document).ready((function(){Cart.Core.update(),Form.reset(),Header.update(),Menu.initialize(),Product.filter(),Product.limbo(),Product.categoria(),Product.edit(),EmailAutomatico.save(),Captcha.registerSubmitListener(),Tinymce.advanced(".tinymce"),CreateTextClipboard(".copyclipboard"),$("input").off("keypress",Form.reset).on("keypress",Form.reset),$(".category-filter-fabricante").on("click",(function(e){e.preventDefault();let t=e.target.getAttribute("data-id"),a=e.target.getAttribute("data-sigla");0==this.checked?window.location.href="/fabricante/index/"+a:window.location.href=`/fabricante/index/${a}/${t}`})),$(".subcategories-filter-fabricante").on("click",(function(e){e.preventDefault();e.target.getAttribute("checked")?e.target.setAttribute("checked",!1):e.target.setAttribute("checked",!0);let t=document.querySelector(".category-filter-fabricante:checked"),a=[...document.querySelectorAll(".subcategories-filter-fabricante:checked")].map(e=>e.getAttribute("data-id"));window.location.href=`/fabricante/index/${t.getAttribute("data-sigla")}/${t.getAttribute("data-id")}/${a.join()}`})),$("[data-fix-element-classes=true]").find('input[type="text"],input[type="password"],select').addClass("form-control"),lightbox.option({albumLabel:"%1/%2",wrapAround:!0,fadeDuration:250,imageFadeDuration:250,resizeDuration:250})}));